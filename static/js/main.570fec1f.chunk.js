(this.webpackJsonpbrailler=this.webpackJsonpbrailler||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){},14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(1),a=n.n(c),i=n(5),s=n.n(i),l=(n(12),n(13),n(3)),o=n(2),u=(n(14),n(15),n(6)),j=n.n(u),h=window.Marvin,d=window.MarvinImage,b={twitch:[60,64],youtube:[60,24],custom:[]},f=2,g=4,O=function(e){var t=e.settings,n=e.setSettings;return Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{htmlFor:"file",children:"Picture file: "}),Object(r.jsx)("input",{id:"file",type:"file",accept:"image/*",onChange:function(e){return function(e){var r=e.target.files;0!==r.length&&n(Object(o.a)(Object(o.a)({},t),{},{path:r[0]}))}(e)}})]})},v=function(e){var t=e.settings,n=e.setSettings,a=e.setRawData,i=Object(c.useState)(null),s=Object(l.a)(i,2),u=s[0],O=s[1],v=Object(c.useRef)(null),x=Object(c.useCallback)((function(e){v.current=e}),[]),p=t.previewCanvasRef,m=Object(c.useState)({}),w=Object(l.a)(m,2),C=w[0],S=w[1];Object(c.useEffect)((function(){S({aspect:t.aspect})}),[t.aspect]);var y=Object(c.useState)(null),D=Object(l.a)(y,2),F=D[0],k=D[1],R=Object(c.useState)(Object.keys(b)[0]),E=Object(l.a)(R,2),I=E[0],L=E[1],N=function(e,t){return parseInt(e-e%t)};if(Object(c.useEffect)((function(){if(F&&p.current&&v.current&&t.configured&&!(F.width<f)&&!(F.height<g)){var e=v.current,n=p.current,r=F;if(r.width&&r.height){!function(e,t,n){var r=e.naturalWidth/e.width,c=e.naturalHeight/e.height,a=t.getContext("2d"),i=window.devicePixelRatio;t.width=n.width*i,t.height=n.height*i,a.setTransform(i,0,0,i,0,0),a.imageSmoothingQuality="high",a.drawImage(e,n.x*r,n.y*c,n.width*r,n.height*c,0,0,n.width,n.height)}(e,n,r);var c=new d,i=new d,s=n.toDataURL();c.load(s,(function(){var e,r;i=c.clone(),h.grayScale(c,i),t.detectEdges&&(c=i.clone(),h.prewitt(c,i)),t.invertColors&&(c=i.clone(),h.invertColors(c,i)),c=i.clone(),h.thresholding(c,i,Math.floor(2.55*t.threshold)),i.draw(n),"custom"===I?(e=N(F.width,f),r=N(F.height,g)):(e=b[I][0],r=b[I][1]);var s=new d;h.scale(i,s,e,r),a(s.imageData)}))}}}),[F,p,t]),Object(c.useEffect)((function(){if(t.path){var e=new FileReader;e.addEventListener("load",(function(){return O(e.result)})),e.readAsDataURL(t.path)}}),[t.path]),!t.path)return null;var M=function(e){var r=e.target.value;L(r);var c=b[r],a=0!==c.length?c[0]/c[1]:null;n(Object(o.a)(Object(o.a)({},t),{},{aspect:a,configured:!t.configured})),k({})},P=[];for(var A in b)P.push(Object(r.jsxs)("label",{htmlFor:A,children:[Object(r.jsx)("input",{id:A,type:"radio",value:A,name:"type",defaultChecked:A===Object.keys(b)[0],onChange:function(e){return M(e)}})," ",A," ",Object(r.jsx)("br",{})]},"".concat(A,"_label")));return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"settings",children:Object(r.jsx)("form",{id:"settings",children:Object(r.jsxs)("fieldset",{id:"settings-fieldset",children:[Object(r.jsx)("legend",{children:"Settings"}),P,Object(r.jsx)("br",{}),Object(r.jsx)("label",{htmlFor:"threshold",children:"Threshold [1-99]: "}),Object(r.jsx)("input",{id:"threshold",type:"range",name:"threshold",min:"1",max:"99",defaultValue:t.threshold,onChange:function(e){return function(e){var r=parseInt(e.target.value);n(Object(o.a)(Object(o.a)({},t),{},{threshold:r}))}(e)}},"threshold"),Object(r.jsx)("br",{}),Object(r.jsxs)("label",{htmlFor:"edge",children:[Object(r.jsx)("input",{id:"edge",type:"checkbox",name:"edge",defaultValue:t.detectEdges,onChange:function(e){return function(e){var r=e.target.checked;n(Object(o.a)(Object(o.a)({},t),{},{detectEdges:r}))}(e)}},"edge"),"Detect edges"]}),Object(r.jsx)("br",{}),Object(r.jsxs)("label",{htmlFor:"invert",children:[Object(r.jsx)("input",{id:"invert",type:"checkbox",name:"invert",defaultValue:t.invertColors,onChange:function(e){return function(e){var r=e.target.checked;n(Object(o.a)(Object(o.a)({},t),{},{invertColors:r}))}(e)}},"invert"),"Dark Mode"]})]})})}),Object(r.jsxs)("div",{className:"crop",children:[Object(r.jsx)("p",{children:"Select an area to be rendered using your mouse:"}),Object(r.jsx)(j.a,{src:u,crop:C,onImageLoaded:x,onChange:function(e){return S(e)},onComplete:function(e){return k(e)},onDragEnd:function(){t.configured||n(Object(o.a)(Object(o.a)({},t),{},{configured:!0}))}})]})]})},x=function(e){var t=e.settings;return t.configured?Object(r.jsxs)("div",{className:"preview",children:[Object(r.jsx)("p",{children:"Preview"}),Object(r.jsx)("canvas",{ref:t.previewCanvasRef})]}):null},p=function(e){var t=e.rawData;if(!t)return null;for(var n=t.width,c=t.height,a=function(e,r){var c=r*(4*n)+4*e;return t.data[c]?0:1},i=function(e,t){var n=1*a(e,t)+2*a(e,t+1)+4*a(e,t+2)+8*a(e+1,t)+16*a(e+1,t+1)+32*a(e+1,t+2)+64*a(e,t+3)+128*a(e+1,t+3)+10240;return String.fromCharCode(n)},s=[],l=0;l<=c-1;l+=g){for(var o="",u=0;u<=n-1;u+=f)o+=i(u,l);s.push(Object(r.jsxs)("pre",{children:[o,Object(r.jsx)("br",{})]},l))}return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("p",{children:[" ",'Make sure to start selection from the very first character right after this string, even if it seems to be "empty"'," "]}),Object(r.jsx)("div",{className:"result",children:Object(r.jsx)("pre",{children:s})}),Object(r.jsx)("br",{})]})},m=function(){var e=Object.values(b)[0];e=e[0]/e[1];var t=Object(c.useRef)(null),n=Object(c.useState)({path:null,aspect:e,threshold:50,detectEdges:!1,invertColors:!1,previewCanvasRef:t,configured:!1}),a=Object(l.a)(n,2),i=a[0],s=a[1],o=Object(c.useState)(null),u=Object(l.a)(o,2),j=u[0],h=u[1];return Object(r.jsxs)("div",{className:"Controls",children:[Object(r.jsx)(O,{settings:i,setSettings:s}),Object(r.jsx)(v,{settings:i,setSettings:s,setRawData:h}),Object(r.jsx)(x,{settings:i}),Object(r.jsx)(p,{rawData:j})]})},w=function(){return Object(r.jsx)("header",{children:Object(r.jsx)("h3",{children:"Generate ASCII Art from a picture using Braille patterns"})})},C=function(){var e=(new Date).getFullYear();return Object(r.jsxs)("footer",{children:[Object(r.jsx)("hr",{}),"\xa9 Copyright ",e," ",Object(r.jsx)("strong",{children:"Not a Designer "}),"LLC."]})};var S=function(){return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(w,{}),Object(r.jsx)(m,{}),Object(r.jsx)(C,{})]})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))};s.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(S,{})}),document.getElementById("root")),y()}},[[16,1,2]]]);
//# sourceMappingURL=main.570fec1f.chunk.js.map